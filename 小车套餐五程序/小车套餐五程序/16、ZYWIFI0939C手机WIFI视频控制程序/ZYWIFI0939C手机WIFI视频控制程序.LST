C51 COMPILER V9.60.0.0   ZYWIFI0939C____WIFI____________                                   10/02/2022 23:13:06 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE ZYWIFI0939C____WIFI____________
OBJECT MODULE PLACED IN ZYWIFI0939CÊÖ»úWIFIÊÓÆµ¿ØÖÆ³ÌÐò.OBJ
COMPILER INVOKED BY: E:\Keil5\C51\BIN\C51.EXE ZYWIFI0939CÊÖ»úWIFIÊÓÆµ¿ØÖÆ³ÌÐò.C OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXT
                    -END TABS(2)

line level    source

   1          /**********************ZYWIFI0939C-WIFI»úÆ÷ÈËÊµÑé°åÀý³Ì************************
   2          *  Æ½Ì¨£ºZYWIFI0939C-WIFI»úÆ÷ÈË + Keil U4 + STC89C52
   3          *  Ãû³Æ£ºZY-1ÖÇÄÜÐ¡³µ²Î¿¼³ÌÐò
   4          *  ¹«Ë¾£ººþÄÏÖÇÓî¿Æ½ÌÉè±¸ÓÐÏÞ¹«Ë¾                        
   5          /À¶ÑÀÄ£¿é³ö³§Ä¬ÈÏ²ÎÊý£º
   6          ´Ó»ú£¬²¨ÌØÂÊ£º9600£¬N£¬8£¬1¡£Åä¶ÔÃÜÂë£º1234
   7          *  Æ½Ì¨£ºZYWIFI0939C-WIFI»úÆ÷ÈË + Keil U4 + STC89C52
   8          *  Ãû³Æ£ºZY-1ÖÇÄÜÐ¡³µ²Î¿¼³ÌÐò
   9          *  ¹«Ë¾£ººþÄÏÖÇÓî¿Æ½ÌÉè±¸ÓÐÏÞ¹«Ë¾
  10          *  ÌÔ±¦£ºhttps://hnzyrobot1688.taobao.com/     
  11          *  ÍøÕ¾£ºwww.hnzhiyu.cn 
  12          *  ±àÐ´£ºÖÇÓî¹«Ë¾ÑÐ·¢Ò»²¿
  13          *  ÈÕÆÚ£º2015-1-15
  14          *  ½»Á÷:ÖÇÄÜ³µQQ:261339276
  15          *  ¾§Õñ:11.0592MHZ
  16          *  ËµÃ÷£ºÃâ·Ñ¿ªÔ´£¬²»Ìá¹©Ô´´úÂë·ÖÎö
  17          *  Ó²¼þÉèÖÃ£ºÒªÓÐ×Ô¼º¶¯ÊÖÄÜÁ¦£¬²ÅÄÜÍê³ÉÊµÑé
  18          *  Ê¹ÓÃËµÃ÷£º¸ù¾ÝÏÂÃæIO¿Ú×Ô¼ºÓÃ¶Å°îÏßÁ¬½Ó¸÷ÖÖÄ£¿é£¬¿ÉÒÔ×Ô¼ºÐÞ¸Ä¸÷ÖÖÄ£¿éIO¿Ú
  19          *  ÊÓÆµ½Ì³Ì£º±¾Ð¡³µÅäÌ×Ñ§Ï°CÓïÑÔÏêÏ¸ÊÓÆµ½Ì³Ì£¬×ÊÁÏÍ³Ò»ÍøÅÌÏÂÔØ
  20             ÖØµãÌáÊ¾£º±¾³ÌÐòÖ»×ö²Î¿¼£¬²»Ìá¹©¼¼ÊõÖ§³Ö£¬Çë×Ô¼ºÑÐ¾¿ÎüÊÕ¡£
  21              
  22            //×¢Òâ³ÌÐòÖ»×ö²Î¿¼Ö®ÓÃ£¬Òª´ïµ½×îÀíÏëµÄÐ§¹û£¬»¹ÐèÒªÍ¬Ñ§ÃÇÏ¸ÐÄµ÷ÊÔ¡£  
  23            //×¢ÒâÀ¶ÑÀÄ£¿é½ÓÏß£¬¼±ÐÔÖ®ÈË¾­³£½Ó´íÏß£¬ÉÕ»µÄ£¿é£¬ÇëÒ»¶¨ÒªºË¶ÔºÃÔÙÍ¨µçÊÔÑé£¬Ä£¿é½Ó´íÏßÉÕ»µ²»±£ÐÞ£¬²»»»»õµ
             -Ä¡£
  24            /****************************************************************************
  25             Ó²¼þÁ¬½Ó
  26             À¶ÑÀÓÐ4ÌõÏß¶¨Òå£º
  27              VCC
  28                GND
  29              TDX
  30              RXD
  31             °ÑÀ¶ÑÀ²åÈëµ¥Æ¬»úJ7½Ó¿ÚÖÐ  --×¢Òâ²»Òª½Ó´íÏß£¬·ñÔòÉÕ»µÀ¶ÑÀÄ£¿é£¬²»±£ÐÞ£¬²»»»»õ¡£
  32            ****************************************************************************/
  33          
  34              #include<AT89x51.H>
  35          
  36              #define Left_moto_go      {P1_2=1,P1_3=0;}  //×óµç»úÏòÇ°×ß
  37            #define Left_moto_back    {P1_2=0,P1_3=1;}  //×ó±ßµç»úÏòºó×ª
  38            #define Left_moto_Stop    {P1_2=0,P1_3=0;}         //×ó±ßµç»úÍ£×ª                     
  39            #define Right_moto_go     {P1_4=1,P1_5=0;}  //ÓÒ±ßµç»úÏòÇ°×ß
  40            #define Right_moto_back   {P1_4=0,P1_5=1;}  //ÓÒ±ßµç»úÏòºó×ß
  41            #define Right_moto_Stop   {P1_4=0,P1_5=0;}        //ÓÒ±ßµç»úÍ£×ª   
  42          
  43            #define left     'C'
  44              #define right    'D'
  45            #define up       'A'
  46              #define down     'B'
  47            #define stop     'F'
  48          
  49            #define uint    unsigned int                          //ÖØ¶¨ÒåÎÞ·ûºÅÕûÊýÀàÐÍ
  50              #define uchar   unsigned char                         //ÖØ¶¨ÒåÎÞ·ûºÅ×Ö·ûÀàÐÍ
  51          
  52            char code str[] =  "ÊÕµ½Ö¸Áî£¬ÏòÇ°!\n";
  53            char code str1[] = "ÊÕµ½Ö¸Áî£¬Ïòºó!\n";
C51 COMPILER V9.60.0.0   ZYWIFI0939C____WIFI____________                                   10/02/2022 23:13:06 PAGE 2   

  54            char code str2[] = "ÊÕµ½Ö¸Áî£¬Ïò×ó!\n";
  55            char code str3[] = "ÊÕµ½Ö¸Áî£¬ÏòÓÒ!\n";
  56            char code str4[] = "ÊÕµ½Ö¸Áî£¬Í£Ö¹!\n";
  57          
  58            bit  flag_REC=0; 
  59            bit  flag    =0;  
  60            
  61          
  62            unsigned char  i=0;
  63            unsigned char  dat=0;
  64              unsigned char  buff[5]=0; //½ÓÊÕ»º³å×Ö½Ú
  65            uchar code  LedShowData[]={0x03,0x9F,0x25,0x0D,0x99,  //¶¨ÒåÊýÂë¹ÜÏÔÊ¾Êý¾Ý
  66                                      0x49,0x41,0x1F,0x01,0x19};//0,1,2,3,4,5,6,7,8,9
  67          
  68            #define ShowPort P0                                   //¶¨ÒåÊýÂë¹ÜÏÔÊ¾¶Ë¿Ú
  69             
  70          /************************************************************************/  
  71          //ÑÓÊ±º¯Êý  
  72             void delay(unsigned int k)
  73          {    
  74   1           unsigned int x,y;
  75   1         for(x=0;x<k;x++) 
  76   1           for(y=0;y<2000;y++);
  77   1      }
  78          
  79          /************************************************************************/
  80          //×Ö·û´®·¢ËÍº¯Êý
  81              void send_str( )
  82                             // ´«ËÍ×Ö´®
  83              {
  84   1            unsigned char i = 0;
  85   1            while(str[i] != '\0')
  86   1           {
  87   2          SBUF = str[i];
  88   2          while(!TI);       // µÈÌØÊý¾Ý´«ËÍ
  89   2          TI = 0;         // Çå³ýÊý¾Ý´«ËÍ±êÖ¾
  90   2          i++;          // ÏÂÒ»¸ö×Ö·û
  91   2           }  
  92   1          }
  93            
  94                void send_str1( )
  95                             // ´«ËÍ×Ö´®
  96              {
  97   1            unsigned char i = 0;
  98   1            while(str1[i] != '\0')
  99   1           {
 100   2          SBUF = str1[i];
 101   2          while(!TI);       // µÈÌØÊý¾Ý´«ËÍ
 102   2          TI = 0;         // Çå³ýÊý¾Ý´«ËÍ±êÖ¾
 103   2          i++;          // ÏÂÒ»¸ö×Ö·û
 104   2           }  
 105   1          } 
 106          
 107                  void send_str2( )
 108                             // ´«ËÍ×Ö´®
 109              {
 110   1            unsigned char i = 0;
 111   1            while(str2[i] != '\0')
 112   1           {
 113   2          SBUF = str2[i];
 114   2          while(!TI);       // µÈÌØÊý¾Ý´«ËÍ
 115   2          TI = 0;         // Çå³ýÊý¾Ý´«ËÍ±êÖ¾
C51 COMPILER V9.60.0.0   ZYWIFI0939C____WIFI____________                                   10/02/2022 23:13:06 PAGE 3   

 116   2          i++;          // ÏÂÒ»¸ö×Ö·û
 117   2           }  
 118   1          } 
 119                  
 120                  void send_str3()
 121                             // ´«ËÍ×Ö´®
 122              {
 123   1            unsigned char i = 0;
 124   1            while(str3[i] != '\0')
 125   1           {
 126   2          SBUF = str3[i];
 127   2          while(!TI);       // µÈÌØÊý¾Ý´«ËÍ
 128   2          TI = 0;         // Çå³ýÊý¾Ý´«ËÍ±êÖ¾
 129   2          i++;          // ÏÂÒ»¸ö×Ö·û
 130   2           }  
 131   1          } 
 132          
 133                  void send_str4()
 134                             // ´«ËÍ×Ö´®
 135              {
 136   1            unsigned char i = 0;
 137   1            while(str4[i] != '\0')
 138   1           {
 139   2          SBUF = str4[i];
 140   2          while(!TI);       // µÈÌØÊý¾Ý´«ËÍ
 141   2          TI = 0;         // Çå³ýÊý¾Ý´«ËÍ±êÖ¾
 142   2          i++;          // ÏÂÒ»¸ö×Ö·û
 143   2           }  
 144   1          } 
 145                  
 146                  
 147          /************************************************************************/
 148          //Ç°ËÙÇ°½ø
 149               void  run(void)
 150          {
 151   1          
 152   1         Left_moto_go ;   //×óµç»úÍùÇ°×ß
 153   1         Right_moto_go ;  //ÓÒµç»úÍùÇ°×ß
 154   1      }
 155          
 156          //Ç°ËÙºóÍË
 157               void  backrun(void)
 158          {
 159   1          
 160   1         Left_moto_back ;   //×óµç»úÍùºó×ß
 161   1         Right_moto_back ;  //ÓÒµç»úÍùºó×ß
 162   1      }
 163          
 164          //ÓÒ×ª
 165               void  rightrun(void) 
 166          {
 167   1          
 168   1      
 169   1          Left_moto_go ;   //×óµç»úÍùÇ°×ß
 170   1         Right_moto_back ;  //ÓÒµç»úÍùºó×ß
 171   1      }
 172          
 173           //×ó×ª
 174               void   leftrun(void)
 175          {
 176   1          
 177   1         
C51 COMPILER V9.60.0.0   ZYWIFI0939C____WIFI____________                                   10/02/2022 23:13:06 PAGE 4   

 178   1         Left_moto_back ;   //×óµç»úÍùÇ°×ß
 179   1         Right_moto_go ;  //ÓÒµç»úÍùÇ°×ß
 180   1      }
 181          //STOP
 182               void  stoprun(void)
 183          {
 184   1          
 185   1         Left_moto_Stop ;   //×óµç»úÍùÇ°×ß
 186   1         Right_moto_Stop ;  //ÓÒµç»úÍùÇ°×ß
 187   1      }
 188          /************************************************************************/
 189          void sint() interrupt 4   //ÖÐ¶Ï½ÓÊÕ3¸ö×Ö½Ú
 190          { 
 191   1       
 192   1          if(RI)                   //ÊÇ·ñ½ÓÊÕÖÐ¶Ï
 193   1          {
 194   2             RI=0;
 195   2             dat=SBUF;
 196   2             if(dat=='O'&&(i==0)) //½ÓÊÕÊý¾ÝµÚÒ»Ö¡
 197   2               {
 198   3                  buff[i]=dat;
 199   3                  flag=1;        //¿ªÊ¼½ÓÊÕÊý¾Ý
 200   3               }
 201   2             else
 202   2            if(flag==1)
 203   2           {
 204   3            i++;
 205   3            buff[i]=dat;
 206   3            if(i>=2)
 207   3            {i=0;flag=0;flag_REC=1 ;}  // Í£Ö¹½ÓÊÕ
 208   3           }
 209   2         }
 210   1      }
 211          /*********************************************************************/    
 212          /*--Ö÷º¯Êý--*/
 213            void main(void)
 214          {
 215   1        TMOD=0x20;  
 216   1          TH1=0xFd;        //11.0592M¾§Õñ£¬9600²¨ÌØÂÊ
 217   1          TL1=0xFd;
 218   1          SCON=0x50;  
 219   1          PCON=0x00; 
 220   1          TR1=1;
 221   1        ES=1;   
 222   1          EA=1;   
 223   1           ShowPort=LedShowData[0];
 224   1        while(1)              /*ÎÞÏÞÑ­»·*/
 225   1        { 
 226   2          if(flag_REC==1)           //
 227   2           {
 228   3          flag_REC=0;
 229   3          if(buff[0]=='O'&&buff[1]=='N')  //µÚÒ»¸ö×Ö½ÚÎªO£¬µÚ¶þ¸ö×Ö½ÚÎªN£¬µÚÈý¸ö×Ö½ÚÎª¿ØÖÆÂë
 230   3          switch(buff[2])
 231   3             {
 232   4                case up :               // Ç°½ø
 233   4              send_str( );
 234   4              run();
 235   4              ShowPort=LedShowData[1]; 
 236   4              break;
 237   4                case down:            // ºóÍË
 238   4               send_str1( );
 239   4              backrun();
C51 COMPILER V9.60.0.0   ZYWIFI0939C____WIFI____________                                   10/02/2022 23:13:06 PAGE 5   

 240   4              ShowPort=LedShowData[2]; 
 241   4              break;
 242   4                case left:            // ×ó×ª
 243   4               send_str3( );
 244   4              leftrun();
 245   4              ShowPort=LedShowData[3];  
 246   4              break;
 247   4                case right:           // ÓÒ×ª
 248   4              send_str2( );
 249   4              rightrun();
 250   4              ShowPort=LedShowData[4];
 251   4              break;
 252   4                case stop:            // Í£Ö¹
 253   4               send_str4( );
 254   4              stoprun();
 255   4              ShowPort=LedShowData[0];
 256   4              break;
 257   4      
 258   4             }
 259   3            
 260   3                 
 261   3         }
 262   2        }
 263   1      } 


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    378    ----
   CONSTANT SIZE    =     95    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      7    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      2    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
